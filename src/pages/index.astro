---
import { Picture } from 'astro:assets'

import Blank from '$layout/blank.astro'
import Playlist from '$archive/playlist.astro'
import BKKJS from '$icon/bkkjs.astro'
import ExternalLink from '$icon/external-link.astro'

import stageImage from '$assets/stage.jpg'
import { archives } from '$data'
---

<Blank class="space-y-8">
  <div class="relative">
    <Picture src={stageImage} formats={['jpg', 'webp']} alt="" />
    <div
      class="absolute top-0 bottom-0 left-0 right-0 bg-black/60 flex flex-col items-center justify-center space-y-6"
    >
      <div>
        <BKKJS class="w-72 h-auto text-white overflow-hidden object-cover" />
        <h1 class="text-white">JavaScript meetups for Thai developers.</h1>
      </div>
      <div class="px-2 max-w-xl w-full">
        <div class="bg-white rounded-xl shadow px-8 py-6 space-y-2">
          <!-- <h1 class="font-bold">Upcoming events</h1> -->
          <div
            class="sm:flex justify-between items-center space-y-4 sm:space-y-0"
          >
            <div class="flex items-end space-x-2 leading-none">
              <BKKJS class="h-8" />
              <span class="font-bold text-3xl -mb-1">#19</span>
              <p class="text-xl leading-none sm:hidden">27 Jan 2024</p>
            </div>
            <p class="text-xl leading-none hidden sm:block">27 Jan 2024</p>
            <button
              type="button"
              class="rounded-md bg-yellow-200 px-4 py-2 text-sm font-semibold text-yellow-950 hover:bg-yellow-100"
            >
              I want to speak!
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="max-w-6xl mx-auto px-4 space-y-8">
    <h1 class="text-5xl font-extrabold">Past Events</h1>
    <div class="space-y-4">
      {
        archives.map(archive => (
          <>
            <div class="flex justify-between">
              <div class="flex items-end space-x-2 leading-none">
                <BKKJS class="h-8" />
                <span class="font-bold text-3xl -mb-1">#{archive.number}</span>
              </div>
              <a
                href={archive.links.event}
                class="rounded-md bg-yellow-200 px-4 py-2 text-sm font-semibold text-yellow-950 hover:bg-yellow-100 inline-flex items-center leading-none"
              >
                Event <ExternalLink class="w-4 h-4 ml-1" />
              </a>
            </div>
            <Playlist playlistId={archive.links.playlistId} />
          </>
        ))
      }
    </div>
  </div>
</Blank>
